# 💾 Realtime Market Data Mock Server 💾
- 클라이언트에게 **대용량 시세, 뉴스 정보**를 **실시간**으로 전달하는 프로그램입니다. <br>
- UDP 프로토콜을 사용하며 클라이언트에게 정보 수신 요청을 받습니다.
- 정보 수신 요청한 클라이언트를 Observer 로 등록합니다.
- Observer 로 등록된 클라이언트에 한해서 데이터를 송신합니다.

---

💊 **클래스 설명** 💊
- **`setPort()`**: 포트 번호를 설정하는 메서드로, 초기화 시 사용됩니다.
- **`Initialize()`**: 서버를 초기화하여 서버 소켓을 생성하고 지정된 포트에 바인딩합니다.
- **`run()`**: Observer 등록 및 주식 정보 업데이트를 위해 서버를 시작합니다. 이를 각각의 스레드에서 실행합니다.
- **`RegistrationObserver()`**: 클라이언트로부터 요청을 수신하고 옵저버를 등록 또는 해제합니다.
- **`Notify()`**: 특정 클라이언트에게 메시지를 전송합니다.
- **`NotifyAll()`**: 등록된 모든 옵저버에게 메시지를 브로드캐스트합니다.
- **`CreateTransactionLedger()`**: 종목 코드, 가격, 거래량 및 타임스탬프를 기반으로 거래 기록을 생성합니다.
- **`updateStockInformation()`**: 실시간 주식 정보를 업데이트하고 등록된 모든 옵저버에게 정보를 전송합니다.
- **`Close()`**: 서버를 종료하고 등록된 모든 옵저버에게 종료 메시지를 전송합니다.

---

🗒 **UDP Payload 구조 설명** 🗒
- **Client Request Payload** <br>
: 클라이언트로부터 아래 데이터 구조로 Request 를 받습니다. <br> <br>
<code>[-------------------전체 (4096byte)--------------------]</code><br>
<code>[ [요청 헤더(1byte)] [상세 내용(1024byte)] [기타(3071byte)] ]</code> <br>
<code>[-----------------------------------------------------]</code><br><br>

- **`요청 헤더`**: 특정 값에 따라 서버와의 작업을 식별하며, 구분값은 아래 표 내용과 같습니다<br>
- **`상세 내용`**: 요청 헤더별 payload 가 입력되는 공간이며, 아직 미구현된 상태입니다.<br>
- **`기타`**: 인증, 체크섬, 기타 등의 정보가 입력되는 공간이며, 아직 미구현된 상태입니다.<br>

|헤더 구분|설명|
|------|---|
|0x01|서버 접속 / 서버 등록|
|0x10|실시간 시세 조회 요청 등록|
|0x20|실시간 시세 조회 요청 해제|
|0xFF|접속 종료 / 서버 등록 해제 요청|

---

- **Server Response Payload** <br>
: 클라이언트에게 아래 데이터 구조로 Response 를 합니다. <br> <br>
<code>[-------------------전체 (4096byte)--------------------]</code><br>
<code>[ [종목코드 (7byte)]       [거래량 (8byte)]               ]</code><br>
<code>[              [종가 (4byte)]        [타임스탬프 (8byte)] ]</code><br>
<code>[-----------------------------------------------------]</code><br><br>

- **`종목코드`**: 종목코드를 의미하며, <code>string</code> 타입의 값입니다. <br>
- **`종가`**: 현재 주가를 의마하며, <code>int</code> 타입의 값입니다.<br>
- **`거래량`**: 당일 거래량으로 <code>long</code> 타입의 값입니다.<br>
- **`타임스탬프`**: 데이터 생성 시점으로 <code>Unixtime</code> 형식입니다.<br>
---

**실행방법**
1. Terminal 에서 <code>dotnet run</code> 을 입력합니다.
2. 동작 여부를 확인합니다. 클라이언트 프로그램은 [여기](https://github.com/wkjung0624/realtime-market-data-receiver)를 클릭하시면 확인하실 수 있습니다.
